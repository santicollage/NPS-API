/login:
  post:
    summary: User login
    description: Login with email and password, generates JWT token.
    tags:
      - Authentication
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../schemas/auth.yaml#/LoginRequest'
          example:
            email: 'juan.perez@example.com'
            password: 'password123'
    responses:
      '200':
        description: Login successful
        content:
          application/json:
            schema:
              $ref: '../schemas/auth.yaml#/LoginResponse'
      '401':
        description: Invalid credentials
        content:
          application/json:
            schema:
              $ref: '../schemas/user.yaml#/ErrorResponse'

/logout:
  post:
    summary: User logout
    description: Logout and remove token from server side.
    tags:
      - Authentication
    security:
      - bearerAuth: []
    responses:
      '200':
        description: Logout successful
        content:
          application/json:
            schema:
              $ref: '../schemas/auth.yaml#/LogoutResponse'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '../schemas/user.yaml#/ErrorResponse'

/me:
  get:
    summary: Get authenticated user data
    description: Returns data of the authenticated user from JWT.
    tags:
      - Authentication
    security:
      - bearerAuth: []
    responses:
      '200':
        description: User data
        content:
          application/json:
            schema:
              $ref: '../schemas/user.yaml#/User'
      '401':
        description: Unauthorized
        content:
          application/json:
            schema:
              $ref: '../schemas/user.yaml#/ErrorResponse'

/google:
  post:
    summary: Google OAuth login/register
    description: Automatic login or register using Google OAuth (google_id).
    tags:
      - Authentication
    requestBody:
      required: true
      content:
        application/json:
          schema:
            $ref: '../schemas/auth.yaml#/GoogleAuthRequest'
          example:
            token: 'ya29.a0AfH6SMC...'
    responses:
      '200':
        description: Authentication successful
        content:
          application/json:
            schema:
              $ref: '../schemas/auth.yaml#/LoginResponse'
      '400':
        description: Invalid token
        content:
          application/json:
            schema:
              $ref: '../schemas/user.yaml#/ErrorResponse'
